(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{278:function(e,t,a){e.exports=a(470)},283:function(e,t,a){},470:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(49),c=a.n(s),l=(a(283),a(96)),i=a(23),o=(a(284),a(46)),u=a(254),m=a(21),d=a(483),h=a(476),v=a(482),p=a(480),g=a(484),E=a(19),f=a.n(E),b=a(25),I=a(78),S=a(65),w=a(481),y=a(474),D=a(475),x=a(33),j=a(34),O=a(163),k=a.n(O),P=new(function(){function e(){Object(x.a)(this,e)}return Object(j.a)(e,[{key:"getProfile",value:function(){return k()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return k()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),N=a(72),C=a(30),L=a.n(C);function U(){var e=Object(N.a)(["\nmutation removeStateSearch($stateId: String!) {\n    removeStateSearch(stateId: $stateId) {\n        _id\n        username\n        savedStateSearch {\n            stateId\n            name\n            confirmed\n            newConfirmed\n            deaths\n            newDeaths\n        }\n    }\n}\n"]);return U=function(){return e},e}function A(){var e=Object(N.a)(["\nmutation saveStateSearch($input: stateInput!) {\n    saveStateSearch(input: $input) {\n        _id\n        username\n        savedStateSearch {\n            stateId\n            name\n            confirmed\n            newConfirmed\n            deaths\n            newDeaths                   \n        }     \n    }\n}\n"]);return A=function(){return e},e}function M(){var e=Object(N.a)(["\n    mutation addUser($username: String!, $email: String!, $password: String!) {\n        addUser(username: $username, email: $email, password: $password) {\n            token\n                user {\n                    _id\n                    username\n                    email\n                }\n            }\n        }\n"]);return M=function(){return e},e}function R(){var e=Object(N.a)(["\n    mutation loginUser($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n        token\n            user {\n                _id\n                username\n                email\n        }\n    }\n}\n"]);return R=function(){return e},e}var F=L()(R()),T=L()(M()),_=L()(A()),Y=L()(U()),B=function(){var e=Object(n.useState)({username:"",email:"",password:""}),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),l=Object(m.a)(c,1)[0],i=Object(n.useState)(!1),u=Object(m.a)(i,2),d=u[0],h=u[1],v=Object(o.useMutation)(T),p=Object(m.a)(v,2),g=p[0],E=p[1].error,x=function(e){var t=e.target,n=t.name,r=t.value;s(Object(S.a)(Object(S.a)({},a),{},Object(I.a)({},n,r)))},j=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g({variables:Object(S.a)({},a)});case 4:n=e.sent,r=n.data,P.login(r.addUser.token),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),h(!0);case 13:s({username:"",email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{noValidate:!0,validated:l,onSubmit:j},r.a.createElement(y.a,{dismissible:!0,onClose:function(){return h(!1)},show:d,variant:"danger"},"Something went wrong with your signup!"),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"username"},"Username"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Your username",name:"username",onChange:x,value:a.username,required:!0}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},"Username is required!")),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"email"},"Email"),r.a.createElement(w.a.Control,{type:"email",placeholder:"Your email address",name:"email",onChange:x,value:a.email,required:!0}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},"Email is required!")),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"password"},"Password"),r.a.createElement(w.a.Control,{type:"password",placeholder:"Your password",name:"password",onChange:x,value:a.password,required:!0}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},"Password is required!")),r.a.createElement(D.a,{disabled:!(a.username&&a.email&&a.password),type:"submit",variant:"success"},"Submit"),E&&r.a.createElement("div",null,"Sign up failed")))},$=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(!1),l=Object(m.a)(c,1)[0],i=Object(n.useState)(!1),u=Object(m.a)(i,2),d=u[0],h=u[1],v=Object(o.useMutation)(F),p=Object(m.a)(v,2),g=p[0],E=p[1].error,x=function(e){var t=e.target,n=t.name,r=t.value;s(Object(S.a)(Object(S.a)({},a),{},Object(I.a)({},n,r)))},j=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g({variables:Object(S.a)({},a)});case 4:n=e.sent,r=n.data,P.login(r.login.token),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),h(!0);case 13:s({username:"",email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{noValidate:!0,validated:l,onSubmit:j},r.a.createElement(y.a,{dismissible:!0,onClose:function(){return h(!1)},show:d,variant:"danger"},"Something went wrong with your login credentials!"),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"email"},"Email"),r.a.createElement(w.a.Control,{type:"text",placeholder:"Your email",name:"email",onChange:x,value:a.email,required:!0}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},"Email is required!")),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"password"},"Password"),r.a.createElement(w.a.Control,{type:"password",placeholder:"Your password",name:"password",onChange:x,value:a.password,required:!0}),r.a.createElement(w.a.Control.Feedback,{type:"invalid"},"Password is required!")),r.a.createElement(D.a,{disabled:!(a.email&&a.password),type:"submit",variant:"success"},"Submit"),E&&r.a.createElement("div",null,"Login failed")))},z=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],s=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{bg:"danger",variant:"dark",expand:"lg"},r.a.createElement(h.a,{fluid:!0},r.a.createElement(d.a.Brand,{as:l.b,to:"/"},r.a.createElement("strong",null,"Pandem",r.a.createElement("span",{className:"title"},"opedia"))," ",r.a.createElement("img",{src:"https://img.icons8.com/cotton/50/000000/protection-mask--v6.png",alt:"mask-icon"})),r.a.createElement(d.a.Toggle,{"aria-controls":"navbar"}),r.a.createElement(d.a.Collapse,{id:"navbar"},r.a.createElement(v.a,{className:"ml-auto"},P.loggedIn()?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Link,{as:l.b,to:"/saved"},"Saved Searches"),r.a.createElement(v.a.Link,{onClick:P.logout},"Logout")):r.a.createElement(v.a.Link,{onClick:function(){return s(!0)}},"Login/Sign Up"))))),r.a.createElement(p.a,{size:"lg",show:a,onHide:function(){return s(!1)},"aria-labelledby":"signup-modal"},r.a.createElement(g.a.Container,{defaultActiveKey:"login"},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,{id:"signup-modal"},r.a.createElement(v.a,{variant:"pills"},r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{eventKey:"login"},"Login")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{eventKey:"signup"},"Sign Up"))))),r.a.createElement(p.a.Body,null,r.a.createElement(g.a.Content,null,r.a.createElement(g.a.Pane,{eventKey:"login"},r.a.createElement($,{handleModalClose:function(){return s(!1)}})),r.a.createElement(g.a.Pane,{eventKey:"signup"},r.a.createElement(B,{handleModalClose:function(){return s(!1)}})))))))};var K=function(){return r.a.createElement("div",{className:"page-footer footer",id:"footer"},"Information provided by John Hopkins University")},W=a(135),q=a(479),G=a(235),J=a(478),H=a(41),V=a(40),Q=a(82),X=a.n(Q),Z=a(477),ee=a(485),te=a(13),ae=["#ffc107","#29a744","#dc3644"],ne=Math.PI/180,re=function(e){var t=e.cx,a=e.cy,n=e.midAngle,s=e.innerRadius,c=e.outerRadius,l=e.percent,i=(e.index,s+.5*(c-s)),o=t+i*Math.cos(-n*ne),u=a+i*Math.sin(-n*ne);return r.a.createElement("text",{x:o,y:u,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central"},"".concat((100*l).toFixed(0),"%"))},se=function(e){Object(H.a)(a,e);var t=Object(V.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={data:[],loaded:!1},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;return fetch("https://corona.azure-api.net/all").then((function(e){return e.json()})).then((function(t){e.setState({data:[{name:"Active",value:t[0].globalData.Active},{name:"Recovered",value:t[0].globalData.Recovered},{name:"Deaths",value:t[0].globalData.Deaths}]}),e.setState({loaded:!0})}))}},{key:"render",value:function(){return!1===this.state.loaded?r.a.createElement(Z.a,{animation:"border",variant:"danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(te.g,{width:350,height:350},r.a.createElement(te.f,{data:this.state.data,cx:100,cy:100,labelLine:!1,label:re,outerRadius:100,fill:"#8884d8",dataKey:"value"},this.state.data.map((function(e,t){return r.a.createElement(te.b,{key:"cell-".concat(t),fill:ae[t%ae.length]})}))))}}]),a}(n.PureComponent),ce=["#0088FE","#29a744","#dc3644"],le=Math.PI/180,ie=function(e){var t=e.cx,a=e.cy,n=e.midAngle,s=e.innerRadius,c=e.outerRadius,l=e.percent,i=(e.index,s+.5*(c-s)),o=t+i*Math.cos(-n*le),u=a+i*Math.sin(-n*le);return r.a.createElement("text",{x:o,y:u,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central"},"".concat((100*l).toFixed(0),"%"))},oe=function(e){Object(H.a)(a,e);var t=Object(V.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={data:[],loaded:!1},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;return fetch("https://corona.azure-api.net/all").then((function(e){return e.json()})).then((function(t){e.setState({data:[{name:"Confirmed",value:t[0].globalData.NewConfirmed},{name:"Recovered",value:t[0].globalData.NewRecovered},{name:"Deaths",value:t[0].globalData.NewDeaths}]}),e.setState({loaded:!0})}))}},{key:"render",value:function(){return!1===this.state.loaded?r.a.createElement(Z.a,{animation:"border",variant:"danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(te.g,{width:350,height:350},r.a.createElement(te.f,{data:this.state.data,cx:100,cy:100,labelLine:!1,label:ie,outerRadius:100,fill:"#8884d8",dataKey:"value"},this.state.data.map((function(e,t){return r.a.createElement(te.b,{key:"cell-".concat(t),fill:ce[t%ce.length]})}))))}}]),a}(n.PureComponent),ue=function(e){Object(H.a)(a,e);var t=Object(V.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,world:null},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://corona.azure-api.net/all",e.next=3,fetch("https://corona.azure-api.net/all");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({world:a[0],loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.state.loading||!this.state.world?r.a.createElement(Z.a,{animation:"border",variant:"danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(ee.a,{border:"white",className:"homepage-card"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center"},"GLOBAL TOTAL CASES"),r.a.createElement("h3",{className:"text-primary text-center"},this.state.world.globalData.Confirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(G.a,{xs:7,md:7},r.a.createElement("p",{className:"badge badge-warning"},"Active:")," ",this.state.world.globalData.Active.toLocaleString(),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-success"},"Recovered:")," ",this.state.world.globalData.Recovered.toLocaleString(),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths:")," ",this.state.world.globalData.Deaths.toLocaleString()),r.a.createElement(G.a,{xs:4,md:4},r.a.createElement(se,null))),r.a.createElement("h4",{className:"text-center"},"GLOBAL NEW CASES"),r.a.createElement("h3",{className:"text-primary text-center"},this.state.world.globalData.NewConfirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(G.a,{xs:7,md:7},r.a.createElement("p",{className:"badge badge-success"},"Recovered:")," ",this.state.world.globalData.NewRecovered.toLocaleString(),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths: ")," ",this.state.world.globalData.NewDeaths.toLocaleString()),r.a.createElement(G.a,{xs:4,md:4},r.a.createElement(oe,null))),"Last Updated: ",r.a.createElement(X.a,{format:"MMMM Do, YYYY hh:mm a"},this.state.world.globalData.Last_Update))))))}}]),a}(r.a.Component),me=["#ffc107","#29a744","#dc3644"],de=Math.PI/180,he=function(e){var t=e.cx,a=e.cy,n=e.midAngle,s=e.innerRadius,c=e.outerRadius,l=e.percent,i=(e.index,s+.5*(c-s)),o=t+i*Math.cos(-n*de),u=a+i*Math.sin(-n*de);return r.a.createElement("text",{x:o,y:u,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central"},"".concat((100*l).toFixed(0),"%"))},ve=function(e){Object(H.a)(a,e);var t=Object(V.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={data:[],loaded:!1},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;return fetch("https://corona.azure-api.net/all").then((function(e){return e.json()})).then((function(t){e.setState({data:[{name:"Active",value:t[0].countryData[165].US.Summary.Active},{name:"Recovered",value:t[0].countryData[165].US.Summary.Recovered},{name:"Deaths",value:t[0].countryData[165].US.Summary.Deaths}]}),e.setState({loaded:!0})}))}},{key:"render",value:function(){return!1===this.state.loaded?r.a.createElement(Z.a,{animation:"border",variant:"danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(te.g,{width:350,height:350},r.a.createElement(te.f,{data:this.state.data,cx:100,cy:100,labelLine:!1,label:he,outerRadius:100,fill:"#8884d8",dataKey:"value"},this.state.data.map((function(e,t){return r.a.createElement(te.b,{key:"cell-".concat(t),fill:me[t%me.length]})}))))}}]),a}(n.PureComponent),pe=["#0088FE","#29a744","#dc3644"],ge=Math.PI/180,Ee=function(e){var t=e.cx,a=e.cy,n=e.midAngle,s=e.innerRadius,c=e.outerRadius,l=e.percent,i=(e.index,s+.5*(c-s)),o=t+i*Math.cos(-n*ge),u=a+i*Math.sin(-n*ge);return r.a.createElement("text",{x:o,y:u,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central"},"".concat((100*l).toFixed(0),"%"))},fe=function(e){Object(H.a)(a,e);var t=Object(V.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={data:[],loaded:!1},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;return fetch("https://corona.azure-api.net/all").then((function(e){return e.json()})).then((function(t){e.setState({data:[{name:"Confirmed",value:t[0].countryData[165].US.Summary.NewConfirmed},{name:"Recovered",value:t[0].countryData[165].US.Summary.NewRecovered},{name:"Deaths",value:t[0].countryData[165].US.Summary.NewDeaths}]}),e.setState({loaded:!0})}))}},{key:"render",value:function(){return!1===this.state.loaded?r.a.createElement(Z.a,{animation:"border",variant:"danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(te.g,{width:350,height:350},r.a.createElement(te.f,{data:this.state.data,cx:100,cy:100,labelLine:!1,label:Ee,outerRadius:100,fill:"#8884d8",dataKey:"value"},this.state.data.map((function(e,t){return r.a.createElement(te.b,{key:"cell-".concat(t),fill:pe[t%pe.length]})}))))}}]),a}(n.PureComponent),be=function(e){Object(H.a)(a,e);var t=Object(V.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,us:null},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://corona.azure-api.net/all",e.next=3,fetch("https://corona.azure-api.net/all");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,this.setState({us:a[0],loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,this.state.loading||!this.state.us?r.a.createElement(Z.a,{animation:"border",variant:"danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement(ee.a,{border:"white",className:"homepage-card"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",{className:"text-center"},"US TOTAL CASES"),r.a.createElement("h3",{className:"text-primary text-center"},this.state.us.countryData[165].US.Summary.Confirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(G.a,{xs:7,md:7},r.a.createElement("p",{className:"badge badge-warning"},"Active:")," ",this.state.us.countryData[165].US.Summary.Active.toLocaleString(),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-success"},"Recovered:")," ",this.state.us.countryData[165].US.Summary.Recovered.toLocaleString(),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths:")," ",this.state.us.countryData[165].US.Summary.Deaths.toLocaleString()),r.a.createElement(G.a,{xs:4,md:4},r.a.createElement(ve,null))),r.a.createElement("h4",{className:"text-center"},"US NEW CASES"),r.a.createElement("h3",{className:"text-primary text-center"},this.state.us.countryData[165].US.Summary.NewConfirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(G.a,{xs:7,md:7},r.a.createElement("p",{className:"badge badge-success"},"Recovered:")," ",this.state.us.countryData[165].US.Summary.NewRecovered.toLocaleString(),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths: ")," ",this.state.us.countryData[165].US.Summary.NewDeaths.toLocaleString()),r.a.createElement(G.a,{xs:4,md:4},r.a.createElement(fe,null))))))))}}]),a}(r.a.Component),Ie=function(e){var t=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(ee.a,{border:"black",className:"homepage-card",style:{paddingTop:10,paddingLeft:10,paddingBottom:10}},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Your Search Results:"),r.a.createElement("br",null),r.a.createElement(J.a,null,r.a.createElement(G.a,{xs:9,md:6},r.a.createElement("h4",{className:"text-center"},t.name.toUpperCase()," TOTAL CASES"),r.a.createElement("h3",{className:"text-primary text-center"},t.confirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths:")," ",t.deaths.toLocaleString(),r.a.createElement("br",null)),r.a.createElement(G.a,{xs:9,md:6},r.a.createElement("h4",{className:"text-center"},t.name.toUpperCase()," NEW CASES"),r.a.createElement("h3",{className:"text-primary text-center"},t.newConfirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths: ")," ",t.newDeaths.toLocaleString(),r.a.createElement("br",null),r.a.createElement("br",null))),"Last Updated: ",r.a.createElement(X.a,{format:"MMMM Do, YYYY hh:mm a"},t.Last_Update))))))};var Se=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1];function c(){return(c=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.covidtracking.com/v1/us/daily.json",e.next=3,fetch("https://api.covidtracking.com/v1/us/daily.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s([{Positive:a[60].positiveIncrease},{Positive:a[59].positiveIncrease},{Positive:a[58].positiveIncrease},{Positive:a[57].positiveIncrease},{Positive:a[56].positiveIncrease},{Positive:a[55].positiveIncrease},{Positive:a[54].positiveIncrease},{Positive:a[53].positiveIncrease},{Positive:a[52].positiveIncrease},{Positive:a[51].positiveIncrease},{Positive:a[50].positiveIncrease},{Positive:a[49].positiveIncrease},{Positive:a[48].positiveIncrease},{Positive:a[47].positiveIncrease},{Positive:a[46].positiveIncrease},{Positive:a[45].positiveIncrease},{Positive:a[44].positiveIncrease},{Positive:a[43].positiveIncrease},{Positive:a[42].positiveIncrease},{Positive:a[41].positiveIncrease},{Positive:a[40].positiveIncrease},{Positive:a[39].positiveIncrease},{Positive:a[30].positiveIncrease},{Positive:a[38].positiveIncrease},{Positive:a[37].positiveIncrease},{Positive:a[36].positiveIncrease},{Positive:a[35].positiveIncrease},{Positive:a[34].positiveIncrease},{Positive:a[33].positiveIncrease},{Positive:a[32].positiveIncrease},{Positive:a[31].positiveIncrease},{Positive:a[30].positiveIncrease},{Positive:a[29].positiveIncrease},{Positive:a[28].positiveIncrease},{Positive:a[27].positiveIncrease},{Positive:a[26].positiveIncrease},{Positive:a[25].positiveIncrease},{Positive:a[24].positiveIncrease},{Positive:a[23].positiveIncrease},{Positive:a[22].positiveIncrease},{Positive:a[21].positiveIncrease},{Positive:a[20].positiveIncrease},{Positive:a[19].positiveIncrease},{Positive:a[18].positiveIncrease},{Positive:a[17].positiveIncrease},{Positive:a[16].positiveIncrease},{Positive:a[15].positiveIncrease},{Positive:a[14].positiveIncrease},{Positive:a[13].positiveIncrease},{Positive:a[12].positiveIncrease},{Positive:a[11].positiveIncrease},{Positive:a[10].positiveIncrease},{Positive:a[9].positiveIncrease},{Positive:a[8].positiveIncrease},{Positive:a[7].positiveIncrease},{Positive:a[6].positiveIncrease},{Positive:a[5].positiveIncrease},{Positive:a[4].positiveIncrease},{Positive:a[3].positiveIncrease},{Positive:a[2].positiveIncrease},{Positive:a[1].positiveIncrease},{name:"Today",Positive:a[0].positiveIncrease,Deaths:a[0].deathIncrease}]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]),r.a.createElement("div",null,a?r.a.createElement(te.e,{width:600,height:300,data:a,margin:{top:5,right:30,left:40,bottom:5}},r.a.createElement(te.a,{strokeDasharray:"3 3"}),r.a.createElement(te.i,{dataKey:"name"}),r.a.createElement(te.j,null),r.a.createElement(te.h,null),r.a.createElement(te.c,null),r.a.createElement(te.d,{dataKey:"Positive",fill:"#008000"})):null)};var we=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1];function c(){return(c=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.covidtracking.com/v1/us/daily.json",e.next=3,fetch("https://api.covidtracking.com/v1/us/daily.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s([{Deaths:a[60].deathIncrease},{Deaths:a[59].deathIncrease},{Deaths:a[58].deathIncrease},{Deaths:a[57].deathIncrease},{Deaths:a[56].deathIncrease},{Deaths:a[55].deathIncrease},{Deaths:a[54].deathIncrease},{Deaths:a[53].deathIncrease},{Deaths:a[52].deathIncrease},{Deaths:a[51].deathIncrease},{Deaths:a[50].deathIncrease},{Deaths:a[49].deathIncrease},{Deaths:a[48].deathIncrease},{Deaths:a[47].deathIncrease},{Deaths:a[46].deathIncrease},{Deaths:a[45].deathIncrease},{Deaths:a[44].deathIncrease},{Deaths:a[43].deathIncrease},{Deaths:a[42].deathIncrease},{Deaths:a[41].deathIncrease},{Deaths:a[40].deathIncrease},{Deaths:a[39].deathIncrease},{Deaths:a[38].deathIncrease},{Deaths:a[37].deathIncrease},{Deaths:a[36].deathIncrease},{Deaths:a[35].deathIncrease},{Deaths:a[34].deathIncrease},{Deaths:a[33].deathIncrease},{Deaths:a[32].deathIncrease},{Deaths:a[31].deathIncrease},{Deaths:a[30].deathIncrease},{Deaths:a[29].deathIncrease},{Deaths:a[28].deathIncrease},{Deaths:a[27].deathIncrease},{Deaths:a[26].deathIncrease},{Deaths:a[25].deathIncrease},{Deaths:a[24].deathIncrease},{Deaths:a[23].deathIncrease},{Deaths:a[22].deathIncrease},{Deaths:a[21].deathIncrease},{Deaths:a[20].deathIncrease},{Deaths:a[19].deathIncrease},{Deaths:a[18].deathIncrease},{Deaths:a[17].deathIncrease},{Deaths:a[16].deathIncrease},{Deaths:a[15].deathIncrease},{Deaths:a[14].deathIncrease},{Deaths:a[13].deathIncrease},{Deaths:a[12].deathIncrease},{Deaths:a[11].deathIncrease},{Deaths:a[10].deathIncrease},{Deaths:a[9].deathIncrease},{Deaths:a[8].deathIncrease},{Deaths:a[7].deathIncrease},{Deaths:a[6].deathIncrease},{Deaths:a[5].deathIncrease},{Deaths:a[4].deathIncrease},{Deaths:a[3].deathIncrease},{Deaths:a[2].deathIncrease},{Deaths:a[1].deathIncrease},{name:"Today",Deaths:a[0].deathIncrease}]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]),r.a.createElement("div",null,a?r.a.createElement(te.e,{width:600,height:300,data:a,margin:{top:5,right:30,left:40,bottom:5}},r.a.createElement(te.a,{strokeDasharray:"3 3"}),r.a.createElement(te.i,{dataKey:"name"}),r.a.createElement(te.j,null),r.a.createElement(te.h,null),r.a.createElement(te.c,null),r.a.createElement(te.d,{dataKey:"Deaths",fill:"#FF0000"})):null)},ye=function(e){var t=localStorage.getItem("saved_state_search")?JSON.parse(localStorage.getItem("saved_state_search")):null;if(!t)return!1;var a=null===t||void 0===t?void 0:t.filter((function(t){return t!==e}));return localStorage.setItem("saved_state_search",JSON.stringify(a)),!0},De=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),l=Object(m.a)(c,2),i=l[0],u=l[1],d=Object(n.useState)(""),v=Object(m.a)(d,2),p=v[0],g=v[1],E={},I=Object(n.useState)(localStorage.getItem("saved_state_search")?JSON.parse(localStorage.getItem("saved_state_search")):[]),S=Object(m.a)(I,2),y=S[0],x=S[1],j=Object(o.useMutation)(_),O=Object(m.a)(j,2),k=O[0],N=O[1].error;Object(n.useEffect)((function(){return function(){var e;(e=y).length?localStorage.setItem("saved_state_search",JSON.stringify(e)):localStorage.removeItem("saved_state_search")}})),Object(n.useEffect)((function(){if(a.length>0)return function(){return s([])}}));var C=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,c=i.toLowerCase(),console.log(c),fetch("https://corona.azure-api.net/country/us/".concat(c));case 6:if((n=e.sent).ok){e.next=9;break}throw new Error("Something went wrong!");case 9:return e.next=11,n.json();case 11:r=e.sent,E={confirmed:r.Confirmed,deaths:r.Deaths,newConfirmed:r.NewConfirmed,newDeaths:r.NewDeaths,lastUpdate:r.Last_Update,name:i.toLowerCase(),stateId:r.Slug_State},x([].concat(Object(W.a)(y),[E.stateId])),g(E.stateId),u(""),s([].concat(Object(W.a)(a),[E])),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.error(e.t0);case 22:case"end":return e.stop()}var c}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.find((function(e){return e===p})),P.loggedIn()?P.getToken():null){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,e.next=7,k({variables:{input:a[0]}});case 7:if(t=e.sent,t.data,!N){e.next=11;break}throw new Error("something went wrong!");case 11:x([].concat(Object(W.a)(y),[p])),g(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{className:"text-light bg-danger",style:{width:"100%",height:560,paddingTop:200,paddingLeft:100}},r.a.createElement(h.a,null,r.a.createElement("h5",null,"Search for your state"),r.a.createElement(w.a,{onSubmit:C},r.a.createElement(w.a.Row,null,r.a.createElement(G.a,{xs:8,md:8},r.a.createElement(w.a.Control,{name:"searchInput",value:i.toLowerCase(),onChange:function(e){return u(e.target.value)},type:"text",size:"md",placeholder:"Enter a state"}),r.a.createElement("i",{className:"app-claim"},"* This application is intended for US states only")),r.a.createElement(G.a,{xs:4,md:4},r.a.createElement(D.a,{type:"submit",variant:"danger",size:"md"},"Search")))))),r.a.createElement(h.a,{fluid:!0},r.a.createElement(J.a,null,r.a.createElement(G.a,{sm:12,md:12},a.length>0?r.a.createElement(Ie,{value:a[0]}):null,P.loggedIn()&&a.length>0&&r.a.createElement(D.a,{onClick:L},"Save")))),r.a.createElement(h.a,null,r.a.createElement("center",null,r.a.createElement("img",{src:"https://www.knightdesign.com.au/wp-content/uploads/2020/03/COVID-19.png",alt:"covid-logo",style:{height:300,width:650}}))),r.a.createElement(h.a,{fluid:!0},r.a.createElement(J.a,null,r.a.createElement(G.a,{sm:"12",md:"12",lg:"6"},r.a.createElement(ue,null)),r.a.createElement(G.a,{sm:"12",md:"12",lg:"6"},r.a.createElement(be,null)))),r.a.createElement(h.a,{fluid:!0,className:"time-series"},r.a.createElement("h1",{className:"time-header text-center"},"US Time Series (60 Day Trend)"),r.a.createElement("br",null),r.a.createElement(J.a,{style:{paddingLeft:25,paddingBottom:100}},r.a.createElement(G.a,{sm:"12",md:"12",lg:"6"},r.a.createElement(Se,null)),r.a.createElement(G.a,{sm:"12",md:"12",lg:"6"},r.a.createElement(we,null))),r.a.createElement(J.a,null,r.a.createElement(G.a,{sm:"12",md:"12"},r.a.createElement("center",null,r.a.createElement("img",{src:"https://completemusicupdate.com/wp-content/uploads/2020/03/stopthespread1250.jpg",alt:"stopspread",style:{paddingBottom:100}}))))))};function xe(){var e=Object(N.a)(["\n{\n    me {\n        _id\n        username\n        email\n        stateCount\n        savedStateSearch {\n            name\n            confirmed\n            newConfirmed\n            deaths\n            newDeaths\n            stateId\n        }\n    }\n}\n"]);return xe=function(){return e},e}var je=L()(xe()),Oe=function(){var e=Object(o.useMutation)(Y),t=Object(m.a)(e,2),a=t[0],n=t[1].error,s=Object(o.useQuery)(je),c=s.loading,l=s.data,i=(null===l||void 0===l?void 0:l.me)||{},u=function(){var e=Object(b.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.loggedIn()?P.getToken():null){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,a({variables:{stateId:t}});case 6:if(r=e.sent,r.data,!n){e.next=10;break}throw new Error("something went wrong!");case 10:ye(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement("h2",null,"LOADING..."):(console.log("returned data",i),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{fluid:!0},r.a.createElement("h2",null,i.savedStateSearch&&i.savedStateSearch.length?"".concat(i.username," has ").concat(i.savedStateSearch.length," saved ").concat(1===i.savedStateSearch.length?"search":"searches"):"".concat(i.username," has no saved searches!"))),r.a.createElement("div",null,r.a.createElement(ee.a,{border:"white",className:"homepage-card",style:{paddingTop:10,paddingLeft:10,paddingBottom:10}},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Your Saved Searches:"),r.a.createElement("br",null),i.savedStateSearch.map((function(e){return r.a.createElement(J.a,{key:e.stateId},r.a.createElement(G.a,{xs:9,md:6},r.a.createElement("h4",{className:"text-center"},e.name.toUpperCase()," TOTAL CASES"),r.a.createElement("h3",{className:"text-primary text-center"},e.confirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths:")," ",e.deaths.toLocaleString(),r.a.createElement("br",null)),r.a.createElement(G.a,{xs:9,md:6},r.a.createElement("h4",{className:"text-center"},e.name.toUpperCase()," NEW CASES"),r.a.createElement("h3",{className:"text-primary text-center"},e.newConfirmed.toLocaleString()),r.a.createElement("br",null),r.a.createElement("p",{className:"badge badge-danger"},"Deaths: ")," ",e.newDeaths.toLocaleString()),r.a.createElement(G.a,{md:6},"Last Updated: ",r.a.createElement(X.a,{format:"MMMM Do, YYYY hh:mm a"},e.lastUpdate)),r.a.createElement(G.a,{md:6},r.a.createElement(D.a,{type:"submit",variant:"danger",size:"md",style:{justifyContent:"flex-end"},onClick:function(){return u(e.stateId)}},"Delete this search")))}))))))))},ke=new u.a({request:function(e){var t=localStorage.getItem("id_token");e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})},uri:"/graphql"});var Pe=function(){return r.a.createElement(o.ApolloProvider,{client:ke},r.a.createElement(l.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:De}),r.a.createElement(i.a,{exact:!0,path:"/saved",component:Oe}),r.a.createElement(i.a,{render:function(){return r.a.createElement("h1",{className:"display-2"},"Wrong page!")}})),r.a.createElement(K,null))))},Ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pandemopedia",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pandemopedia","/service-worker.js");Ne?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ce(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ce(t,e)}))}}()}},[[278,1,2]]]);
//# sourceMappingURL=main.94635b4a.chunk.js.map